# Codex ODA Review: Findings & Path Discrepancy (Jan 2026)

## 1. Overview
In January 2026, a "Codex" agent performed an automated audit of the Orion ODA architecture. While the findings were technically specific, local verification revealed a significant discrepancy in search paths.

---

## 2. Technical Findings (Codex Report)

| Severity | Finding | Evidence (Referenced Paths) |
|----------|---------|-----------------------------|
| **CRITICAL** | AIP-Free (Antigravity) runtime is NOT wired into the LLM path. Core logic still hard-codes OpenAI/Ollama. | `scripts/llm/instructor_client.py:18-48`, `scripts/aip_logic/function.py:40-43`, `scripts/ontology/actions/llm_actions.py:28-50` |
| **HIGH** | Audit-before-execution requirement is contradicted by implementation; `ActionRunner` does not persist logs before mutation. | `README.md:8-11`, `scripts/simulation/core.py:81-97` |
| **HIGH** | `ExecuteLogicAction` is a placeholder that never calls the `LogicEngine` or any registry. | `scripts/ontology/actions/logic_actions.py:16-63` |
| **MEDIUM** | Async actions perform synchronous LLM calls, blocking the event loop. | `scripts/ontology/actions/llm_actions.py:23-50` |
| **MEDIUM** | Model defaults are inconsistent (gpt-4o vs llama3.2). | `scripts/aip_logic/function.py:40-43` |
| **LOW** | MCP registry initialization swallows exceptions for Antigravity/Claude config load. | `scripts/mcp_manager.py:326-370` |

---

## 3. Verification Report (January 7, 2026)

### Status: âœ… VERIFIED (100% Accuracy)
Local verification of the Codex findings was successfully completed after reconciling the project path to `/home/palantir/park-kyungchan/palantir/`. The audit followed the **3-Stage Protocol**.

### Verification Verdicts:
1. **CRITICAL: Antigravity Runtime Not Wired**: **CONFIRMED**. `InstructorClient` hard-codes Ollama/OpenAI defaults and does not consume Antigravity MCP config.
2. **HIGH: Audit-Before-Execution Violated**: **CONFIRMED**. `ActionRunner` log saving is commented out in `core.py:95`.
3. **HIGH: ExecuteLogicAction Placeholder**: **CONFIRMED**. The action returns mock data and never invokes the `LogicEngine`.
4. **MEDIUM: Sync Calls in Async Context**: **CONFIRMED**. `GeneratePlanAction` synchronously calls `client.generate()`.
5. **MEDIUM: Model Defaults Mismatch**: **CONFIRMED**. Config conflict between `LogicFunction` (gpt-4o) and `InstructorClient` (llama3.2).
6. **LOW: Exception Swallowing**: **CONFIRMED**. `mcp_manager.py` uses bare `except Exception: pass` for config loading.

### Final Conclusion:
The Codex audit is technically impeccable. The reported vulnerabilities and logic placeholders are present in the current implementation.

### Remediation Priority:
1. Create `AntigravityProvider` adapter for LLM pipeline.
2. Persist `PENDING` logs in `ActionRunner`.
3. Implement `LogicEngine` registry lookup.
