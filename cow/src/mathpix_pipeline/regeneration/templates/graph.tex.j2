{# Jinja2 template for graph/function visualization #}
{# Template Version: 1.0.0 #}

{% if config.include_comments %}
% Generated by MathpixPipeline Regeneration Engine v2.0
% Graph template for function and geometric representations
{% endif %}

\begin{tikzpicture}[scale={{ scale_factor | default(1.0) }}]
{% if config.include_comments %}
  % Coordinate axes
{% endif %}
  \draw[->] (-5,0) -- (5,0) node[right] {$x$};
  \draw[->] (0,-5) -- (0,5) node[above] {$y$};

{% if config.include_comments %}
  % Grid lines
{% endif %}
  \draw[help lines, gray!30] (-5,-5) grid (5,5);

{% if config.include_comments %}
  % Node elements
{% endif %}
{% for node in nodes %}
{% if node.node_type == "point" and node.properties.coordinates %}
  \filldraw[blue] ({{ node.properties.coordinates.x }},{{ node.properties.coordinates.y }}) circle (2pt)
    node[above right] {${{ node.properties.point_label | default(node.label) }}$};
{% elif node.node_type == "line" and node.properties.slope is defined and node.properties.y_intercept is defined %}
  \draw[thick] (-5,{{ node.properties.slope * -5 + node.properties.y_intercept }}) -- (5,{{ node.properties.slope * 5 + node.properties.y_intercept }});
{% elif node.node_type == "circle" and node.properties.center and node.properties.radius %}
  \draw[thick, magenta] ({{ node.properties.center.x }},{{ node.properties.center.y }}) circle ({{ node.properties.radius }});
{% elif node.node_type == "curve" and node.properties.equation %}
{% if config.include_comments %}
  % Curve: {{ node.properties.equation }} (use pgfplots for precise rendering)
{% endif %}
{% endif %}
{% endfor %}

{% if config.include_comments %}
  % Labels
{% endif %}
{% for node in nodes %}
{% if node.node_type == "label" and node.bbox %}
  \node at ({{ node.bbox.x }},{{ node.bbox.y }}) {${{ node.label }}$};
{% endif %}
{% endfor %}

\end{tikzpicture}
