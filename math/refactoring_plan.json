{
    "meta": {
        "generated_by": "Orion Supervisor",
        "timestamp": "2025-12-03T09:18:00+09:00",
        "target_directory": "/home/palantir/math"
    },
    "strategy": {
        "architecture": "Monorepo-like Hybrid (Python Backend + React Frontend + Observability Sidecar)",
        "primary_goals": [
            "Standardize Project Structure",
            "Enforce Type Safety (Python/TS)",
            "Integrate Observability",
            "Prepare for Scaling"
        ]
    },
    "phases": [
        {
            "id": "phase_1_infrastructure",
            "name": "Infrastructure & Environment",
            "priority": "High",
            "tasks": [
                {
                    "id": "infra_01",
                    "action": "Create Root Orchestration",
                    "details": "Create a root `docker-compose.yml` that orchestrates backend, frontend, and observability services."
                },
                {
                    "id": "infra_02",
                    "action": "Dependency Management Modernization",
                    "details": "Migrate backend `requirements.txt` to `uv` or `poetry` for deterministic builds. Ensure frontend uses `pnpm`."
                }
            ]
        },
        {
            "id": "phase_2_backend",
            "name": "Backend Refactoring (Python/FastAPI)",
            "priority": "High",
            "tasks": [
                {
                    "id": "be_01",
                    "action": "Structure Standardization",
                    "details": "Ensure `app/` structure follows Domain-Driven Design (DDD) lite. Separate `routers`, `schemas` (Pydantic v2), and `services`."
                },
                {
                    "id": "be_02",
                    "action": "Observability Hooks",
                    "details": "Inject `observability` SDK (from sibling repo) into FastAPI middleware for request tracing."
                },
                {
                    "id": "be_03",
                    "action": "Type Safety",
                    "details": "Enforce strict `mypy` configuration."
                }
            ]
        },
        {
            "id": "phase_3_frontend",
            "name": "Frontend Refactoring (React/Vite)",
            "priority": "Medium",
            "tasks": [
                {
                    "id": "fe_01",
                    "action": "Component Architecture",
                    "details": "Refactor `components/` to separate `ui` (atomic) from `features` (logic-heavy). Adopt `shadcn/ui` pattern if applicable."
                },
                {
                    "id": "fe_02",
                    "action": "State Management",
                    "details": "Verify `Zustand` usage patterns. Ensure stores are decoupled from UI components."
                },
                {
                    "id": "fe_03",
                    "action": "API Client",
                    "details": "Generate typed API client from Backend OpenAPI spec (using `openapi-ts`)."
                }
            ]
        },
        {
            "id": "phase_4_observability",
            "name": "Observability Integration",
            "priority": "Low",
            "tasks": [
                {
                    "id": "obs_01",
                    "action": "Unified Dashboard",
                    "details": "Ensure the Observability UI can display metrics from the main Math App."
                }
            ]
        }
    ]
}