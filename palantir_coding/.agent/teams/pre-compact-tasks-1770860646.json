[
{
  "id": "1",
  "subject": "[PERMANENT] Skill Optimization v9.0 — All Skills Deep Redesign",
  "description": "## [PERMANENT] — PT-v1\n\n### User Intent\nDeep redesign of 9 pipeline/utility skills + related agent files for precise alignment with INFRA v9.0 Agent Teams architecture. Introduces context:fork isolation for Lead-only skills.\n\nKey goals:\n- 9 SKILL.md files restructured into unified 4-section format (Spawn/Directive/Interface/Cross-Cutting)\n- 8 coordinator agent .md files co-optimized (hooks, skills preload, memory: project)\n- 3 new fork-context agent .md files created (delivery-agent, rsil-agent, pt-manager)\n- 4 Lead-only skills converted to context:fork execution\n- GC versioning replaced with PT-centric interface (PT = sole cross-skill source of truth)\n- CLAUDE.md §10 modified to allow Task API for Lead-delegated fork agents\n- CC new features adopted ($0/$1, ${CLAUDE_SESSION_ID}, allowed-tools, Dynamic Context)\n- All CLAUDE.md/reference duplication removed from skills (1-line references only)\n\n### Codebase Impact Map\n- Module Dependencies:\n  - SKILL.md (9 files) → agent .md (8 coordinators + 3 new) → CLAUDE.md §10\n  - Skills reference: agent-common-protocol.md, coordinator-shared-protocol.md, gate-evaluation-standard.md\n  - PT-centric interface: all skills read/write PT-v{N} via TaskGet/TaskUpdate\n  - context:fork: 4 skills → 3 new agent .md → CLAUDE.md exception rule\n- Ripple Paths:\n  - Change PT interface → affects all 9 skills simultaneously (Big Bang)\n  - Change coordinator agent .md → affects skill Directive Section templates\n  - Add context:fork → requires CLAUDE.md rule change + new agent files\n  - Remove GC versioning → skill Interface Section rewired to PT\n- Interface Boundaries:\n  - Skill ↔ Agent .md: subagent_type exact match, frontmatter tools list\n  - Skill ↔ PT: TaskGet/TaskUpdate for state, file paths for L1/L2/L3\n  - Fork Skill ↔ Lead: context:fork return value, $ARGUMENTS input\n  - Skill ↔ CLAUDE.md: 1-line cross-cutting references (§6, §9, §10)\n- Risk Hotspots:\n  - permanent-tasks fork + Task API (CLAUDE.md rule change required)\n  - Big Bang 20+ file change (syntax error in any skill blocks all)\n  - Coordinator agent .md changes (8 files, affects all coordinated phases)\n\n### Architecture Decisions\n| # | Decision | Rationale | Phase |\n|---|----------|-----------|-------|\n| D-1 | Exclude palantir-dev (9 skills) | Non-pipeline skill | P1 |\n| D-2 | All Deep Redesign | User: INFRA 최적화, README.md = ground truth | P1 |\n| D-3 | A+B only (Spawn + Prompt) | Lead Orchestration Define = spawn + directive | P1 |\n| D-4 | No compression target | v9.0 alignment, YAGNI only | P1 |\n| D-5 | Common 1x CC research | Shared spawn mechanism research | P1 |\n| D-6 | Option A: Precision Refocus | Spawn+Directive+Interface+Cross-Cutting 4-section | P1 |\n| D-7 | PT-centric interface | GC → session scratch, PT = sole source of truth | P1 |\n| D-8 | Big Bang (simultaneous) | Interface consistency guaranteed | P1 |\n| D-9 | 4 Lead-only → context:fork | delivery, rsil-global, rsil-review, permanent-tasks | P1 |\n| D-10 | CLAUDE.md §10 modification | Fork agent Task API allowed | P1 |\n| D-11 | 3 new fork agent .md files | delivery-agent, rsil-agent, pt-manager | P1 |\n\n### Phase Status\n| Phase | Status | Notes |\n|-------|--------|-------|\n| P0 | COMPLETE | PT created at Gate 1 |\n| P1 | COMPLETE | Gate 1 APPROVED, 11 decisions |\n| P2 | PENDING | CC research done, codebase research pending |\n| P3 | PENDING | Architecture design |\n| P4-P9 | PENDING | — |\n\n### Constraints\n- Pipeline Tier: COMPLEX (20+ files, 3+ modules)\n- palantir-dev excluded\n- 35 worker agent .md files NOT in scope (coordinators only)\n- Reference docs (.claude/references/*.md) NOT in scope\n- Hooks, settings NOT in scope\n- YAGNI: no features beyond current needs\n- Big Bang: all changes simultaneous for interface consistency\n- BUG-001: always mode: \"default\" for spawns",
  "activeForm": "Managing PERMANENT Task",
  "status": "pending",
  "blocks": [],
  "blockedBy": []
}]
