{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "metadata": {
    "research_date": "2026-01-17",
    "sources_count": 15,
    "search_queries": [
      "Palantir Foundry Ontology SDK documentation 2026",
      "Palantir AIP ObjectType LinkType ActionType specification",
      "Palantir Foundry Ontology JSON schema export format",
      "Palantir AIP Mandatory Control Property Restricted View row-level security",
      "Ontology-driven architecture best practices"
    ]
  },
  "palantir_official": {
    "ontology_core": {
      "sources": [
        {
          "url": "https://www.palantir.com/docs/foundry/ontology/core-concepts",
          "title": "Core concepts - Palantir",
          "relevance_score": 1.0,
          "key_findings": [
            "Object type defines an entity or event in an organization",
            "Property defines the object type's characteristics",
            "Link type defines the relationship between two object types",
            "Action type defines how an object type can be modified"
          ]
        }
      ]
    },
    "object_types": {
      "sources": [
        {
          "url": "https://www.palantir.com/docs/foundry/object-link-types/object-types-overview",
          "title": "Object types Overview - Palantir",
          "relevance_score": 1.0,
          "key_findings": [
            "Object type is a schema definition of a real-world entity or event",
            "Comprised of individual objects (instances)",
            "Type-level information about ontology entities"
          ]
        },
        {
          "url": "https://www.palantir.com/docs/foundry/object-link-types/type-reference",
          "title": "Types reference - Palantir",
          "relevance_score": 0.9,
          "key_findings": [
            "Complete reference for object and link type definitions"
          ]
        }
      ]
    },
    "link_types": {
      "sources": [
        {
          "url": "https://www.palantir.com/docs/foundry/object-link-types/link-types-overview",
          "title": "Link types Overview - Palantir",
          "relevance_score": 1.0,
          "key_findings": [
            "Link type is schema definition of relationship between two object types",
            "Link refers to single instance of relationship between two objects"
          ]
        },
        {
          "url": "https://www.palantir.com/docs/foundry/object-link-types/create-link-type",
          "title": "Create link type - Palantir",
          "relevance_score": 1.0,
          "key_findings": [
            "Cardinality types: one-to-one, one-to-many, many-to-one, many-to-many",
            "Object type foreign keys support one-to-one and many-to-one cardinality",
            "Foreign key and primary key selection for linking objects",
            "One-to-one cardinality is not enforced (indicator only)"
          ]
        }
      ],
      "cardinality_examples": {
        "one_to_one": "One Aircraft linked to single Flight",
        "one_to_many": "One Aircraft linked to many Flights",
        "many_to_one": "Many Aircraft linked to one Flight",
        "many_to_many": "One Aircraft to many Flights, one Flight to many Aircraft"
      }
    },
    "action_types": {
      "sources": [
        {
          "url": "https://www.palantir.com/docs/foundry/action-types/overview",
          "title": "Action types Overview - Palantir",
          "relevance_score": 1.0,
          "key_findings": [
            "Action type is definition of set of changes/edits to objects",
            "Includes property values and links changes",
            "Includes side effect behaviors that occur with submission"
          ]
        }
      ]
    },
    "properties": {
      "sources": [
        {
          "url": "https://www.palantir.com/docs/foundry/object-link-types/properties-overview",
          "title": "Properties Overview - Palantir",
          "relevance_score": 1.0,
          "key_findings": [
            "Properties define object type characteristics"
          ]
        },
        {
          "url": "https://www.palantir.com/docs/foundry/object-link-types/base-types",
          "title": "Base types - Palantir",
          "relevance_score": 1.0,
          "key_findings": [
            "Base types for property definitions",
            "Includes: LONG, TIMESTAMP, DECIMAL, ARRAY, STRUCT, STRING, DOUBLE"
          ]
        }
      ],
      "base_types_discovered": [
        "LONG",
        "TIMESTAMP",
        "DECIMAL",
        "ARRAY",
        "STRUCT",
        "STRING",
        "DOUBLE",
        "BOOLEAN"
      ]
    },
    "ontology_api": {
      "sources": [
        {
          "url": "https://www.palantir.com/docs/foundry/api/v2/ontologies-v2-resources/object-types/object-type-basics",
          "title": "Manage Ontologies API - Palantir",
          "relevance_score": 1.0,
          "key_findings": [
            "API endpoints for interacting with Ontologies",
            "LIST_ONTOLOGIES, GET_ONTOLOGY, GET_ONTOLOGY_FULL_METADATA",
            "LIST_ACTION_TYPES, GET_ACTION_TYPE, GET_ACTION_TYPE_BY_RID",
            "LIST_OBJECT_TYPES, GET_OBJECT_TYPE",
            "LIST_OUTGOING_LINK_TYPES, GET_OUTGOING_LINK_TYPE"
          ]
        }
      ],
      "api_operations": [
        "LIST_ONTOLOGIES",
        "GET_ONTOLOGY",
        "GET_ONTOLOGY_FULL_METADATA",
        "LIST_ACTION_TYPES",
        "GET_ACTION_TYPE",
        "GET_ACTION_TYPE_BY_RID",
        "LIST_OBJECT_TYPES",
        "GET_OBJECT_TYPE",
        "LIST_OUTGOING_LINK_TYPES",
        "GET_OUTGOING_LINK_TYPE"
      ]
    },
    "schema_export": {
      "sources": [
        {
          "url": "https://www.palantir.com/docs/foundry/ontology-manager/export-import",
          "title": "Export, edit, and import an Ontology - Palantir",
          "relevance_score": 1.0,
          "key_findings": [
            "Ontology can be exported as JSON file",
            "JSON can be edited with code or text editor",
            "Modified JSON can be imported back",
            "WARNING: Should not depend on exported JSON schema as it may change"
          ]
        }
      ],
      "export_notes": {
        "format": "JSON",
        "warning": "Schema format may change over time - do not depend on it",
        "capability": "Transfer ontology definitions between instances"
      }
    }
  },
  "critical_gaps_research": {
    "restricted_views": {
      "sources": [
        {
          "url": "https://www.palantir.com/docs/foundry/security/restricted-views",
          "title": "Restricted views - Palantir",
          "relevance_score": 1.0
        },
        {
          "url": "https://www.palantir.com/docs/foundry/object-permissioning/configuring-rv-access-controls",
          "title": "Configuring restricted-view-backed object types - Palantir",
          "relevance_score": 1.0
        }
      ],
      "specification": {
        "definition": "Granular row-level access control limiting dataset visibility based on user attributes and data values",
        "core_components": [
          "User attributes (properties of viewing user)",
          "Column names (from backing dataset)",
          "Specific values (strings, booleans, numbers, arrays)"
        ],
        "policy_structure": {
          "logical_operators": ["AND", "OR"],
          "comparison_types": [
            "User attribute comparisons",
            "Column-to-value matching"
          ],
          "requirement": "Most policies involve at least one term compared with user attribute"
        },
        "user_attribute_mapping": {
          "identifier_type": "UUID (unique identifier)",
          "name_references": "NOT supported (to prevent renaming issues)"
        },
        "row_filtering": {
          "mechanism": "Policy evaluation per row",
          "visibility": "Determined by user attributes satisfying row conditions"
        },
        "marking_requirements": {
          "column_type": "STRING ARRAY of Marking IDs (UUIDs)",
          "policy_reference": "user's Markings against column",
          "multiple_columns": "Supported with AND/OR combinations",
          "type_class_annotation": "marking_type.mandatory"
        }
      }
    },
    "mandatory_control_properties": {
      "sources": [
        {
          "url": "https://www.palantir.com/docs/foundry/object-link-types/mandatory-control-properties",
          "title": "Mandatory control properties - Palantir",
          "relevance_score": 1.0
        }
      ],
      "specification": {
        "definition": "Object type properties enabling granular access control by restricting visibility of all other properties based on user authorization",
        "constraints": {
          "required": {
            "rule": "MUST be required",
            "reason": "Maintain data consistency and integrity"
          },
          "no_default": {
            "rule": "Cannot have default value",
            "exception": "Empty arrays allowed (grants all users access)"
          },
          "marking_column_mapping": {
            "rule": "Must map to marking column on restricted view",
            "enforcement": "Backing restricted view policy requires users to satisfy markings"
          }
        },
        "datasource_constraints": {
          "required_parameters": [
            "Allowed markings/organizations set (for marking-based controls)",
            "Max classification level (for CBAC-enabled classification controls)"
          ],
          "validation": "Validates incoming dataset values AND user edit submissions",
          "violation_effect": "Prevents indexing or action completion"
        },
        "control_types": {
          "markings": {
            "description": "Users require ALL specified markings to access data"
          },
          "organizations": {
            "description": "Users must belong to at least ONE specified organization"
          },
          "classifications": {
            "description": "Users access data at or below their classification level",
            "constraint": "CBAC only, cannot combine with other types on same property"
          }
        },
        "restricted_view_integration": {
          "mechanism": "Leverages restricted views' policy layer",
          "enforcement": "Object storage level validation",
          "rejection": "Non-compliant materialized datasets rejected during export"
        },
        "availability": "Only available on Object Storage V2"
      }
    },
    "object_security_policies": {
      "sources": [
        {
          "url": "https://www.palantir.com/docs/foundry/object-permissioning/object-security-policies",
          "title": "Object security policies - Palantir",
          "relevance_score": 0.9
        },
        {
          "url": "https://www.palantir.com/docs/foundry/object-permissioning/managing-object-security",
          "title": "Managing object security - Palantir",
          "relevance_score": 0.8
        }
      ],
      "specification": {
        "row_level_security": "Configure view permissions on object instance via security policies",
        "column_level_security": "Property security policies guard visibility of specific properties",
        "mandatory_control_inheritance": "By default inherits all mandatory controls from data sources",
        "customization": "Can add new mandatory controls or remove inherited ones"
      }
    }
  },
  "third_party_tools": {
    "palantir_ontology_generator": {
      "source": "https://github.com/jaymd96/PalantirOntologyGenerator",
      "description": "Comprehensive toolkit for discovering Foundry datasets, inferring relationships, and creating/editing ontology JSON files",
      "capabilities": [
        "Generate complete ontologies",
        "Object types (one per dataset)",
        "Properties (all columns, auto-typed)",
        "Relationships with confidence levels",
        "Backing dataset RIDs",
        "Column mappings for all properties",
        "Full transactional support"
      ]
    }
  },
  "best_practices": {
    "ontology_design_patterns": {
      "sources": [
        "Developer community best practices",
        "Domain-driven design patterns"
      ],
      "key_principles": [
        "ObjectType should represent real-world entities or events",
        "Properties should define meaningful characteristics",
        "LinkTypes should model actual relationships",
        "ActionTypes should encapsulate business operations",
        "Use cardinality to enforce relationship constraints",
        "Mandatory controls for security-sensitive data"
      ]
    },
    "json_schema_patterns": {
      "recommended_approach": [
        "Use JSON Schema Draft 2020-12 for definitions",
        "Include $id and $schema for validation",
        "Use $defs for reusable components",
        "Provide examples for each schema",
        "Include description fields for documentation"
      ]
    }
  },
  "key_insights_for_oda_refactoring": {
    "critical_gap_1_restricted_views": {
      "priority": "P1 - CRITICAL",
      "implementation_requirements": [
        "Policy-based row filtering",
        "User attribute mapping (UUID-based)",
        "Marking column support (STRING ARRAY)",
        "AND/OR logical operators",
        "Integration with object security policies"
      ]
    },
    "critical_gap_2_mandatory_control_properties": {
      "priority": "P1 - CRITICAL",
      "implementation_requirements": [
        "is_mandatory_control flag on PropertyDefinition",
        "Required constraint enforcement (no null)",
        "No default value enforcement",
        "Marking column mapping to restricted view",
        "Datasource constraint validation",
        "Object Storage V2 compatibility"
      ]
    },
    "critical_gap_3_ontology_schema_export": {
      "priority": "P2 - HIGH",
      "implementation_requirements": [
        "JSON export with top-level 'ontology' key",
        "Include objectTypes, linkTypes, actionTypes arrays",
        "Include metadata (version, exportedAt)",
        "Import capability for external ontology definitions",
        "Schema versioning support"
      ],
      "caveat": "Palantir warns format may change - implement flexible parser"
    }
  }
}
