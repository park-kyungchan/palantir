{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "metadata": {
    "created_at": "2026-01-17T11:15:00Z",
    "version": "1.0.0",
    "purpose": "Detailed refactoring plan to achieve 95%+ Palantir Foundry alignment",
    "based_on": [
      "analysis/gap_analysis.json",
      "schemas/*.schema.json"
    ],
    "total_estimated_effort": "8-11 weeks",
    "target_alignment": 95
  },
  "executive_summary": {
    "current_state": {
      "alignment_score": 78,
      "total_files": 34,
      "total_loc": 49116,
      "critical_gaps": 3,
      "high_priority_gaps": 4,
      "medium_priority_gaps": 5,
      "low_priority_gaps": 4
    },
    "target_state": {
      "alignment_score": 95,
      "new_files": 7,
      "modified_files": 8,
      "deleted_files": 0,
      "estimated_new_loc": 1600,
      "estimated_modified_loc": 500
    },
    "key_deliverables": [
      "Restricted Views row-level security engine",
      "Mandatory Control Properties support",
      "Foundry-compatible schema export/import",
      "Enhanced Interface and ValueType systems"
    ]
  },
  "files_to_create": [
    {
      "path": "lib/oda/agent/restricted_views.py",
      "priority": "P1-CRITICAL",
      "gap_ids": ["GAP-001"],
      "estimated_loc": 400,
      "description": "RestrictedViewPolicy model and row-level filtering engine",
      "dependencies": ["lib/oda/agent/user_attributes.py", "lib/oda/agent/policy_engine.py"],
      "implementation_details": {
        "classes": [
          {
            "name": "RestrictedViewPolicy",
            "purpose": "Pydantic model defining row-level access policy",
            "fields": [
              "policy_id: str",
              "name: str",
              "description: str",
              "backing_object_type: str",
              "policy_rules: List[PolicyRule]",
              "logical_operator: Literal['AND', 'OR']",
              "user_attribute_mappings: List[UserAttributeMapping]",
              "marking_columns: List[str]",
              "status: PolicyStatus",
              "metadata: PolicyMetadata"
            ]
          },
          {
            "name": "PolicyRule",
            "purpose": "Individual rule within a policy",
            "fields": [
              "column_name: str",
              "comparison_type: ComparisonType",
              "value: Any",
              "user_attribute_reference: Optional[str]"
            ]
          },
          {
            "name": "RestrictedViewEngine",
            "purpose": "Evaluates policies against user context and data rows",
            "methods": [
              "evaluate_row(row: Dict, user_context: UserContext) -> bool",
              "filter_queryset(queryset: Iterable, user_context: UserContext) -> List",
              "check_marking_access(row_markings: List[str], user_markings: List[str]) -> bool"
            ]
          }
        ],
        "enums": [
          "ComparisonType: EQUALS, NOT_EQUALS, CONTAINS, IN, NOT_IN, GREATER_THAN, LESS_THAN",
          "PolicyStatus: DRAFT, ACTIVE, DISABLED"
        ]
      },
      "tests": {
        "file": "tests/oda/agent/test_restricted_views.py",
        "test_cases": [
          "test_simple_equality_policy",
          "test_marking_based_access",
          "test_user_attribute_comparison",
          "test_and_operator_multiple_rules",
          "test_or_operator_multiple_rules",
          "test_filter_queryset_performance"
        ]
      }
    },
    {
      "path": "lib/oda/agent/policy_engine.py",
      "priority": "P1-CRITICAL",
      "gap_ids": ["GAP-001"],
      "estimated_loc": 250,
      "description": "Generic policy evaluation engine with AND/OR operators",
      "dependencies": [],
      "implementation_details": {
        "classes": [
          {
            "name": "PolicyEngine",
            "purpose": "Evaluates boolean policy expressions",
            "methods": [
              "evaluate(expression: PolicyExpression, context: Dict) -> bool",
              "compile_expression(rules: List[PolicyRule], operator: str) -> PolicyExpression"
            ]
          },
          {
            "name": "PolicyExpression",
            "purpose": "Abstract syntax tree for policy evaluation",
            "types": ["AndExpression", "OrExpression", "LeafExpression"]
          }
        ],
        "patterns": [
          "Visitor pattern for expression evaluation",
          "Memoization for repeated evaluations"
        ]
      }
    },
    {
      "path": "lib/oda/agent/user_attributes.py",
      "priority": "P1-CRITICAL",
      "gap_ids": ["GAP-001"],
      "estimated_loc": 150,
      "description": "User attribute mapping and storage for policy evaluation",
      "dependencies": [],
      "implementation_details": {
        "classes": [
          {
            "name": "UserContext",
            "purpose": "User's security context for policy evaluation",
            "fields": [
              "user_id: str",
              "markings: List[str]",
              "organizations: List[str]",
              "classification_level: Optional[int]",
              "custom_attributes: Dict[str, Any]"
            ]
          },
          {
            "name": "UserAttributeMapping",
            "purpose": "Maps user attributes to policy rule references",
            "fields": [
              "attribute_id: str (UUID)",
              "attribute_name: str",
              "attribute_type: AttributeType",
              "source: AttributeSource"
            ]
          }
        ],
        "note": "Uses UUID-based identifiers to prevent renaming issues (per Palantir requirement)"
      }
    },
    {
      "path": "lib/oda/foundry_mimic/schema_export.py",
      "priority": "P2-HIGH",
      "gap_ids": ["GAP-003"],
      "estimated_loc": 300,
      "description": "Foundry-compatible JSON export with top-level 'ontology' key",
      "dependencies": ["lib/oda/ontology/registry.py"],
      "implementation_details": {
        "classes": [
          {
            "name": "FoundrySchemaExporter",
            "purpose": "Exports ontology to Foundry-compatible JSON format",
            "methods": [
              "export(registry: OntologyRegistry) -> Dict",
              "export_object_types() -> List[Dict]",
              "export_link_types() -> List[Dict]",
              "export_action_types() -> List[Dict]",
              "export_interfaces() -> List[Dict]",
              "export_value_types() -> List[Dict]",
              "export_struct_types() -> List[Dict]",
              "export_shared_properties() -> List[Dict]",
              "generate_metadata() -> ExportMetadata"
            ]
          }
        ],
        "output_format": {
          "structure": {
            "ontology": {
              "metadata": "ExportMetadata",
              "objectTypes": "Array",
              "linkTypes": "Array",
              "actionTypes": "Array",
              "interfaces": "Array",
              "valueTypes": "Array",
              "structTypes": "Array",
              "sharedProperties": "Array"
            }
          }
        }
      }
    },
    {
      "path": "lib/oda/foundry_mimic/schema_import.py",
      "priority": "P2-HIGH",
      "gap_ids": ["GAP-003"],
      "estimated_loc": 250,
      "description": "Import and validate external ontology JSON",
      "dependencies": ["lib/oda/foundry_mimic/schema_export.py"],
      "implementation_details": {
        "classes": [
          {
            "name": "FoundrySchemaImporter",
            "purpose": "Imports Foundry JSON and registers with ODA",
            "methods": [
              "import_from_json(json_data: Dict) -> ImportResult",
              "validate_schema(json_data: Dict) -> ValidationResult",
              "detect_version(json_data: Dict) -> str",
              "merge_with_existing(registry: OntologyRegistry, json_data: Dict) -> MergeResult"
            ]
          },
          {
            "name": "ImportResult",
            "fields": [
              "success: bool",
              "imported_types: Dict[str, List[str]]",
              "warnings: List[str]",
              "errors: List[str]"
            ]
          }
        ],
        "validation": [
          "JSON Schema validation against schemas/*.schema.json",
          "RID uniqueness check",
          "apiName pattern validation",
          "Cross-reference integrity check"
        ]
      }
    },
    {
      "path": "lib/oda/ontology/types/struct_types.py",
      "priority": "P3-MEDIUM",
      "gap_ids": ["GAP-008"],
      "estimated_loc": 100,
      "description": "First-class StructType definitions",
      "dependencies": [],
      "implementation_details": {
        "classes": [
          {
            "name": "StructTypeDefinition",
            "purpose": "Reusable nested structure definition",
            "fields": [
              "api_name: str",
              "display_name: str",
              "fields: List[StructField]",
              "description: Optional[str]"
            ]
          },
          {
            "name": "StructField",
            "fields": [
              "name: str",
              "data_type: DataType",
              "required: bool",
              "description: Optional[str]"
            ]
          }
        ]
      }
    },
    {
      "path": "lib/oda/ontology/actions/undo_action.py",
      "priority": "P3-MEDIUM",
      "gap_ids": ["GAP-011"],
      "estimated_loc": 150,
      "description": "Generic undo action generator from AuditLog",
      "dependencies": ["lib/oda/ontology/objects/audit_log.py"],
      "implementation_details": {
        "classes": [
          {
            "name": "UndoActionGenerator",
            "purpose": "Generates inverse action from audit log entry",
            "methods": [
              "generate_undo(audit_entry: AuditLog) -> Optional[Action]",
              "can_undo(audit_entry: AuditLog) -> bool",
              "get_undoable_actions(limit: int) -> List[AuditLog]"
            ]
          }
        ],
        "supported_operations": [
          "CREATE -> DELETE",
          "UPDATE -> UPDATE (restore before_state)",
          "DELETE -> CREATE (from before_state)",
          "LINK -> UNLINK",
          "UNLINK -> LINK"
        ]
      }
    }
  ],
  "files_to_modify": [
    {
      "path": "lib/oda/ontology/types/property_types.py",
      "priority": "P1-CRITICAL",
      "gap_ids": ["GAP-002", "GAP-006", "GAP-010", "GAP-016"],
      "estimated_changes_loc": 150,
      "changes": [
        {
          "location": "PropertyConstraint class (~line 174)",
          "change_type": "ADD_FIELD",
          "description": "Add is_mandatory_control flag",
          "code_snippet": "is_mandatory_control: bool = Field(default=False, description=\"If true, property is a mandatory security control\")"
        },
        {
          "location": "PropertyConstraint class",
          "change_type": "ADD_FIELD",
          "description": "Add mandatory_control_config",
          "code_snippet": "mandatory_control_config: Optional[MandatoryControlConfig] = Field(default=None)"
        },
        {
          "location": "New class after PropertyConstraint",
          "change_type": "ADD_CLASS",
          "description": "Add MandatoryControlConfig model",
          "code_snippet": "class MandatoryControlConfig(BaseModel):\n    control_type: Literal['markings', 'organizations', 'classifications']\n    allowed_values: Optional[List[str]] = None\n    max_classification_level: Optional[int] = None"
        },
        {
          "location": "PropertyDefinition class",
          "change_type": "ADD_FIELD",
          "description": "Add isEditOnly flag",
          "code_snippet": "is_edit_only: bool = Field(default=False, description=\"Property not from dataset, only user edits\")"
        },
        {
          "location": "DataType enum",
          "change_type": "ADD_VALUE",
          "description": "Add DECIMAL data type",
          "code_snippet": "DECIMAL = \"DECIMAL\""
        },
        {
          "location": "New class",
          "change_type": "ADD_CLASS",
          "description": "Add ValueTypeDefinition for reusable constraints",
          "code_snippet": "class ValueTypeDefinition(BaseModel):\n    api_name: str\n    display_name: str\n    base_type: DataType\n    constraints: PropertyConstraint\n    description: Optional[str] = None"
        }
      ],
      "validation_required": "Add Pydantic validator: if is_mandatory_control then required=True and default must be None"
    },
    {
      "path": "lib/oda/agent/permission_resolver.py",
      "priority": "P1-CRITICAL",
      "gap_ids": ["GAP-001", "GAP-002", "GAP-005"],
      "estimated_changes_loc": 100,
      "changes": [
        {
          "location": "resolve_permission() method (~line 358)",
          "change_type": "ADD_STEP",
          "description": "Integrate RestrictedView filtering as Layer 0",
          "code_snippet": "# Layer 0: Restricted View (row-level)\nif object_type.restricted_view_policy:\n    if not self._check_restricted_view(obj, user_context):\n        return PermissionResult.DENIED"
        },
        {
          "location": "resolve_field_permission() method",
          "change_type": "ADD_CHECK",
          "description": "Add mandatory control access check",
          "code_snippet": "if field.is_mandatory_control:\n    if not self._check_mandatory_control_access(field, user_context):\n        return FieldAccess.HIDDEN"
        },
        {
          "location": "New method",
          "change_type": "ADD_METHOD",
          "description": "Add ENDORSED status assignment check",
          "code_snippet": "def can_set_endorsed(self, user: User, object_type: ObjectType) -> bool:\n    return self._is_ontology_owner(user)"
        }
      ]
    },
    {
      "path": "lib/oda/ontology/validators/property_validator.py",
      "priority": "P1-CRITICAL",
      "gap_ids": ["GAP-002", "GAP-006"],
      "estimated_changes_loc": 50,
      "changes": [
        {
          "location": "validate_property() method",
          "change_type": "ADD_VALIDATION",
          "description": "Mandatory control validation",
          "code_snippet": "if prop.is_mandatory_control:\n    if not prop.constraints.required:\n        raise ValidationError('Mandatory control must be required')\n    if prop.default is not None:\n        raise ValidationError('Mandatory control cannot have default value')"
        },
        {
          "location": "New method",
          "change_type": "ADD_METHOD",
          "description": "Add RID/UUID format validator",
          "code_snippet": "def validate_rid_format(value: str) -> bool:\n    return bool(re.match(r'^ri\\.[a-z]+\\.[a-z]+\\.[a-z]+\\.[a-zA-Z0-9-]+$', value))"
        }
      ]
    },
    {
      "path": "lib/oda/ontology/registry.py",
      "priority": "P2-HIGH",
      "gap_ids": ["GAP-003", "GAP-004"],
      "estimated_changes_loc": 80,
      "changes": [
        {
          "location": "OntologyRegistry class (~line 994)",
          "change_type": "ADD_METHOD",
          "description": "Add Foundry format export method",
          "code_snippet": "def export_foundry_format(self) -> Dict:\n    from lib.oda.foundry_mimic.schema_export import FoundrySchemaExporter\n    return FoundrySchemaExporter().export(self)"
        },
        {
          "location": "OntologyRegistry class",
          "change_type": "ADD_METHOD",
          "description": "Add interface registration",
          "code_snippet": "def register_interface(self, interface: InterfaceTypeSpec) -> None:\n    self._interfaces[interface.api_name] = interface"
        }
      ]
    },
    {
      "path": "lib/oda/mcp/ontology_server.py",
      "priority": "P2-HIGH",
      "gap_ids": ["GAP-003", "GAP-011"],
      "estimated_changes_loc": 60,
      "changes": [
        {
          "location": "Tool definitions",
          "change_type": "ADD_TOOL",
          "description": "Add schema_export MCP tool",
          "code_snippet": "@tool\nasync def export_ontology_schema(format: str = 'foundry') -> Dict:\n    '''Export ontology to JSON schema format'''\n    return registry.export_foundry_format()"
        },
        {
          "location": "Tool definitions",
          "change_type": "ADD_TOOL",
          "description": "Add schema_import MCP tool",
          "code_snippet": "@tool\nasync def import_ontology_schema(json_data: Dict, validate: bool = True) -> ImportResult:\n    '''Import ontology from JSON schema'''\n    from lib.oda.foundry_mimic.schema_import import FoundrySchemaImporter\n    return FoundrySchemaImporter().import_from_json(json_data)"
        },
        {
          "location": "Tool definitions",
          "change_type": "ADD_TOOL",
          "description": "Add undo_action MCP tool",
          "code_snippet": "@tool\nasync def undo_action(audit_log_id: str) -> ActionResult:\n    '''Undo a previous action by audit log ID'''\n    from lib.oda.ontology.actions.undo_action import UndoActionGenerator\n    return UndoActionGenerator().generate_and_execute(audit_log_id)"
        }
      ]
    },
    {
      "path": "lib/oda/ontology/types/status_types.py",
      "priority": "P2-HIGH",
      "gap_ids": ["GAP-005"],
      "estimated_changes_loc": 10,
      "changes": [
        {
          "location": "ObjectTypeStatus enum (~line 45)",
          "change_type": "ADD_VALUE",
          "description": "Add ENDORSED status",
          "code_snippet": "ENDORSED = \"ENDORSED\"  # Only for ObjectType, set by Ontology Owner"
        },
        {
          "location": "After enum",
          "change_type": "ADD_CONSTANT",
          "description": "Add status applicability",
          "code_snippet": "ENDORSED_APPLICABLE_TYPES = ['ObjectType']  # ENDORSED does not apply to LinkType, Property, ActionType"
        }
      ]
    },
    {
      "path": "lib/oda/ontology/types/link_types.py",
      "priority": "P2-HIGH",
      "gap_ids": ["GAP-007", "GAP-014"],
      "estimated_changes_loc": 30,
      "changes": [
        {
          "location": "Cardinality class",
          "change_type": "ADD_FIELD",
          "description": "Add 1:1 enforcement mode",
          "code_snippet": "one_to_one_enforcement: Literal['INDICATOR_ONLY', 'STRICT'] = Field(default='INDICATOR_ONLY', description='Palantir: 1:1 is indicator only')"
        },
        {
          "location": "LinkTypeMetadata class",
          "change_type": "ADD_FIELD",
          "description": "Add link properties array",
          "code_snippet": "link_properties: List[LinkPropertyDefinition] = Field(default_factory=list, description='Properties on the link itself (for N:N)')"
        }
      ]
    },
    {
      "path": "lib/oda/foundry_mimic/models.py",
      "priority": "P2-HIGH",
      "gap_ids": ["GAP-004", "GAP-012"],
      "estimated_changes_loc": 40,
      "changes": [
        {
          "location": "InterfaceTypeSpec class (~line 153)",
          "change_type": "ENHANCE",
          "description": "Add inheritance and required properties validation",
          "code_snippet": "extends: List[str] = Field(default_factory=list, description='Parent interfaces')\nrequired_properties: List[str] = Field(default_factory=list)"
        },
        {
          "location": "ObjectTypeSpec class",
          "change_type": "ADD_FIELD",
          "description": "Add MDO merge configuration",
          "code_snippet": "mdo_config: Optional[MDOConfig] = Field(default=None)\n\nclass MDOConfig(BaseModel):\n    merge_strategy: Literal['UNION', 'PRIORITY'] = 'UNION'\n    priority_datasource: Optional[str] = None\n    conflict_resolution: Dict[str, str] = Field(default_factory=dict)"
        }
      ]
    }
  ],
  "files_to_delete": [],
  "migration_scripts": [
    {
      "name": "001_add_mandatory_control_flags.py",
      "purpose": "Migrate existing properties to new schema with is_mandatory_control=False default",
      "location": "lib/oda/migrations/",
      "backwards_compatible": true,
      "rollback_supported": true
    },
    {
      "name": "002_add_endorsed_status.py",
      "purpose": "Add ENDORSED to status enum, no existing data affected",
      "location": "lib/oda/migrations/",
      "backwards_compatible": true,
      "rollback_supported": true
    }
  ],
  "implementation_phases": {
    "phase_1": {
      "name": "Critical Security Features",
      "duration": "4-6 weeks",
      "gaps_addressed": ["GAP-001", "GAP-002", "GAP-003"],
      "milestones": [
        {
          "week": 1,
          "tasks": [
            "Create MandatoryControlConfig model",
            "Add is_mandatory_control to PropertyConstraint",
            "Add validation for mandatory control rules",
            "Write unit tests for mandatory control"
          ],
          "deliverables": ["GAP-002 complete"]
        },
        {
          "week": 2,
          "tasks": [
            "Create FoundrySchemaExporter class",
            "Implement export_object_types()",
            "Implement export_link_types()",
            "Implement export_action_types()"
          ],
          "deliverables": ["Schema export foundation"]
        },
        {
          "week": 3,
          "tasks": [
            "Complete FoundrySchemaExporter (interfaces, valueTypes, etc.)",
            "Create FoundrySchemaImporter class",
            "Add schema_export/import MCP tools",
            "Write integration tests"
          ],
          "deliverables": ["GAP-003 complete"]
        },
        {
          "weeks": "4-6",
          "tasks": [
            "Create UserContext and UserAttributeMapping",
            "Create PolicyEngine with AND/OR evaluation",
            "Create RestrictedViewPolicy model",
            "Create RestrictedViewEngine",
            "Integrate into permission_resolver.py",
            "Write comprehensive tests",
            "Performance optimization"
          ],
          "deliverables": ["GAP-001 complete"]
        }
      ],
      "expected_alignment_gain": 12
    },
    "phase_2": {
      "name": "High Priority Enhancements",
      "duration": "2-3 weeks",
      "gaps_addressed": ["GAP-004", "GAP-005", "GAP-006", "GAP-007"],
      "milestones": [
        {
          "week": 1,
          "tasks": [
            "Add ENDORSED status to status_types.py",
            "Add Ontology Owner check for ENDORSED assignment",
            "Update 1:1 cardinality to INDICATOR_ONLY default",
            "Add warning (not error) for 1:1 violations"
          ],
          "deliverables": ["GAP-005 complete", "GAP-007 complete"]
        },
        {
          "week": 2,
          "tasks": [
            "Enhance InterfaceTypeSpec with inheritance",
            "Add interface validation in registry",
            "Create ValueTypeDefinition class",
            "Add RID/UUID format validators"
          ],
          "deliverables": ["GAP-004 complete", "GAP-006 complete"]
        }
      ],
      "expected_alignment_gain": 4
    },
    "phase_3": {
      "name": "Polish and Medium Priority",
      "duration": "2 weeks",
      "gaps_addressed": ["GAP-008", "GAP-009", "GAP-010", "GAP-011", "GAP-012"],
      "milestones": [
        {
          "week": 1,
          "tasks": [
            "Create StructTypeDefinition class",
            "Enhance @shared_property with semantic_type",
            "Add isEditOnly flag to PropertyDefinition"
          ],
          "deliverables": ["GAP-008 complete", "GAP-009 complete", "GAP-010 complete"]
        },
        {
          "week": 2,
          "tasks": [
            "Create UndoActionGenerator",
            "Add undo_action MCP tool",
            "Enhance MDO merge configuration"
          ],
          "deliverables": ["GAP-011 complete", "GAP-012 complete"]
        }
      ],
      "expected_alignment_gain": 2
    },
    "phase_4": {
      "name": "Low Priority and Documentation",
      "duration": "1 week",
      "gaps_addressed": ["GAP-013", "GAP-014", "GAP-015", "GAP-016"],
      "tasks": [
        "Add link merging configuration",
        "Add explicit linkProperties array",
        "Complete webhook side effects implementation",
        "Add DECIMAL data type",
        "Update documentation",
        "Final integration testing"
      ],
      "expected_alignment_gain": 1
    }
  },
  "testing_requirements": {
    "unit_tests": {
      "new_test_files": [
        "tests/oda/agent/test_restricted_views.py",
        "tests/oda/agent/test_policy_engine.py",
        "tests/oda/agent/test_user_attributes.py",
        "tests/oda/foundry_mimic/test_schema_export.py",
        "tests/oda/foundry_mimic/test_schema_import.py",
        "tests/oda/ontology/types/test_mandatory_control.py",
        "tests/oda/ontology/types/test_value_type.py",
        "tests/oda/ontology/actions/test_undo_action.py"
      ],
      "minimum_coverage": 85
    },
    "integration_tests": {
      "scenarios": [
        "Restricted view filtering with complex policy",
        "Mandatory control property creation and validation",
        "Full ontology export/import round-trip",
        "ENDORSED status assignment by Ontology Owner only",
        "Undo action for CREATE, UPDATE, DELETE operations"
      ]
    },
    "performance_tests": {
      "benchmarks": [
        "Restricted view filter: <10ms per 1000 rows",
        "Policy evaluation: <1ms per rule",
        "Schema export: <100ms for 100 types"
      ]
    }
  },
  "risk_mitigation": {
    "breaking_changes": {
      "risk": "Adding mandatory fields may break existing code",
      "mitigation": [
        "All new fields have sensible defaults",
        "Migration scripts handle existing data",
        "Backwards compatibility tests"
      ]
    },
    "performance_regression": {
      "risk": "Restricted view filtering adds overhead to every query",
      "mitigation": [
        "Policy evaluation result caching",
        "Lazy loading of restricted view policies",
        "Performance benchmarks in CI"
      ]
    },
    "schema_evolution": {
      "risk": "Palantir may change export format",
      "mitigation": [
        "Version detection in importer",
        "Flexible parser design",
        "Warning (not error) for unknown fields"
      ]
    }
  },
  "documentation_updates": [
    {
      "file": ".claude/CLAUDE.md",
      "changes": [
        "Add Restricted View governance rules",
        "Add Mandatory Control enforcement policy",
        "Document schema export/import workflow"
      ]
    },
    {
      "file": "docs/oda/security.md",
      "changes": [
        "Add Restricted Views section",
        "Add Mandatory Control Properties section"
      ],
      "status": "CREATE_NEW"
    },
    {
      "file": "docs/oda/schema_exchange.md",
      "changes": [
        "Document Foundry-compatible export format",
        "Document import validation rules"
      ],
      "status": "CREATE_NEW"
    }
  ],
  "success_metrics": {
    "alignment_score": {
      "baseline": 78,
      "target": 95,
      "measurement": "Weighted feature completion assessment"
    },
    "test_coverage": {
      "baseline": "Unknown",
      "target": 85,
      "measurement": "pytest-cov report"
    },
    "documentation_completeness": {
      "target": "All new features documented with examples"
    },
    "performance": {
      "target": "No regression >10% on existing operations"
    }
  }
}
