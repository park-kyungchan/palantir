# Teleport: Web ↔ CLI Session Transfer

Transfer your Claude Code session between web interface and CLI.

**Boris Cherny Pattern:** "I run 5-10 Claudes on claude.ai in my browser, using a 'teleport' command to hand off sessions between the web and my local machine."

---

## REQUIREMENTS

```
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!  CLAUDE MAX SUBSCRIPTION REQUIRED                                !
!  This feature requires an active Claude Max subscription         !
!  to access web session APIs. Without it, teleport will fail.     !
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
```

---

## Arguments

- `direction`: Direction of teleport (`in` = web→CLI, `out` = CLI→web)
- `session_id`: (Optional) Specific session ID to teleport

---

## Usage Examples

```bash
# Pull web session to CLI
/teleport in

# Push current session to web (opens in browser)
/teleport out

# Teleport specific session
/teleport in abc123
```

---

## Execution

When teleporting IN (Web → CLI):

1. List available web sessions via Claude Code API
2. Select session to import
3. Download session context (todos, evidence, files_viewed)
4. Restore to current CLI session

When teleporting OUT (CLI → Web):

1. Export current session state
2. Create web session bundle
3. Open Claude.ai with session context

---

## Pre-flight Check

Before teleporting, verify:
- [ ] ANTHROPIC_API_KEY is set
- [ ] Git repository is synced (for file context)
- [ ] No pending uncommitted changes

---

## Implementation

```bash
#!/bin/bash
DIRECTION="${1:-in}"
SESSION_ID="${2:-}"

# Teleport implementation
python3 -c "
from scripts.claude.session_teleport import SessionTeleporter

teleporter = SessionTeleporter()

if '$DIRECTION' == 'in':
    teleporter.import_from_web('$SESSION_ID' or None)
elif '$DIRECTION' == 'out':
    teleporter.export_to_web()
else:
    print('Usage: /teleport <in|out> [session_id]')
"
```

---

## Session Bundle Structure

```json
{
  "session_id": "uuid",
  "created_at": "ISO timestamp",
  "source": "web|cli",
  "context": {
    "todos": [...],
    "evidence": {...},
    "files_viewed": [...],
    "conversation_summary": "..."
  },
  "git": {
    "branch": "current-branch",
    "commit": "HEAD commit hash",
    "dirty": false
  }
}
```

---

## Notes

- Teleport preserves TodoWrite state
- Evidence tracker is synchronized
- File changes are NOT transferred (use git)
- Conversation history is summarized (context limits)

---

## Claude Max Required

This feature requires Claude Max subscription for web session access.
$ARGUMENTS will be parsed as: direction [session_id]
