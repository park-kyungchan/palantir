# ~/.bashrc: executed by bash(1) for non-login shells.

# If not running interactively, don't do anything
case $- in
    *i*) ;;
      *) return;;
esac

# History settings
HISTCONTROL=ignoreboth
shopt -s histappend
HISTSIZE=1000
HISTFILESIZE=2000

# Check window size after each command
shopt -s checkwinsize

# Set prompt
PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '

# Enable color support
if [ -x /usr/bin/dircolors ]; then
    test -r ~/.dircolors && eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"
    alias ls='ls --color=auto'
    alias grep='grep --color=auto'
fi

# NVM configuration
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion

# Set default directory to home for new shells
if [ "$PWD" = "/mnt/c/Users/packr" ] || [ "$PWD" = "/mnt/c/Users/packr/" ]; then
    cd /home/palantir
fi

# ODA Migration - PYTHONPATH
export PYTHONPATH="/home/palantir/park-kyungchan/palantir:${PYTHONPATH}"
alias oda='python -m lib.oda.tools.cli'

# Claude Code Token Limits (100K for full agent output)
export CLAUDE_CODE_MAX_OUTPUT_TOKENS=100000
export CLAUDE_CODE_FILE_READ_MAX_OUTPUT_TOKENS=100000
export MAX_MCP_OUTPUT_TOKENS=100000
export BASH_MAX_OUTPUT_LENGTH=200000

# Node.js heap size configuration (8GB)
export NODE_OPTIONS="--max-old-space-size=8192"
export PATH="$HOME/.local/bin:$PATH"

# Claude Code wrapper - Ïã§Ìñâ Ïãú Task List ID ÏÑ†ÌÉù
# Usage: cc [task-list-id]
# Examples:
#   cc                  ‚Üí Í∏∞Î≥∏ Ïã§Ìñâ (task list ÏóÜÏùå)
#   cc palantir-dev     ‚Üí palantir-dev task list ÏÇ¨Ïö©
#   cc my-project       ‚Üí my-project task list ÏÇ¨Ïö©
cc() {
    if [ -n "$1" ]; then
        echo "üìã Task List: $1"
        CLAUDE_CODE_TASK_LIST_ID="$1" claude
    else
        claude
    fi
}
