---
name: collect
description: |
  Collect and summarize results from completed worker tasks.
  Aggregate deliverables, verify completion criteria, and prepare E2E verification.
  Generate consolidated report of all parallel worker outputs.
  Use after workers complete to review results before final integration.
user-invocable: true
disable-model-invocation: true
context: fork
model: sonnet
version: "1.1.0"
---

# Collect Worker Results

Aggregate results from all completed worker tasks.

## Completed Task Files
```bash
ls -la .agent/prompts/completed/ 2>/dev/null
```

## Read Each Completed Task

For each file in `.agent/prompts/completed/`:
1. Read the task file
2. Extract completion status
3. Note any deliverables

## Worker Output Files
```bash
ls -la .agent/outputs/Worker/ 2>/dev/null
```

## Verification Checklist

For each completed phase, verify:
- [ ] Task file moved to completed/
- [ ] _progress.yaml updated
- [ ] Deliverables exist (if applicable)
- [ ] No errors in logs

## Output Format (L1)

```yaml
collectionId: {8-char-id}
summary:
  totalCompleted: {n}
  totalPending: {n}

completedTasks:
  - taskId: "{id}"
    terminal: "{X}"
    deliverables:
      - "{file or feature}"
    status: "verified" | "needs-review"

pendingTasks:
  - taskId: "{id}"
    blockedBy: "{reason or null}"

overallStatus: "ALL_COMPLETE" | "IN_PROGRESS" | "BLOCKED"
nextAction: "{recommendation}"
```

## If All Complete

Suggest E2E verification:
1. List all modified files
2. Propose integration test
3. Recommend commit message
