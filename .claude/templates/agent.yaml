# Agent Template
# Version: 1.0.0 | ODA-Compatible
#
# Usage: Copy and fill in {placeholders}
# Reference: .agent/plans/draft_create_command_v1.md#qa-patterns

---
# Core Identity (Rounds 1-3)
name: "{AGENT_NAME}"                    # lowercase, hyphens, max 64 chars
description: "{AGENT_DESCRIPTION}"      # Include "proactively" for auto-trigger
disable-model-invocation: false         # true = manual only

# Tool Configuration (Rounds 4-6)
tools:
  # Read-only (safe)
  - Read
  - Grep
  - Glob
  # Standard (file operations)
  # - Bash
  # - Edit
  # - Write
  # Full (subagent delegation)
  # - Task
  # - WebSearch
  # - WebFetch
  # - TodoWrite
  # - AskUserQuestion
  # - NotebookEdit
  # - Skill

# disallowedTools: []                   # Explicitly blocked tools
# mcp_tools: []                         # MCP tools (mcp__namespace__tool)

# Skills Access
skills:
  accessible: []                        # Can invoke directly
  via_delegation: []                    # Can delegate to
  # auto_trigger: []                    # Auto-invoke on patterns

# ODA Context (Rounds 7-9) - Governance Integration
oda_context:
  role: "{ROLE}"                        # gate | controller | logger | validator | executor | chain_controller | schema_gate | anti_hallucination | audit_trail | mutation_control
  stage_access:
    - A                                 # SCAN - file exploration
    - B                                 # TRACE - import verification
    # - C                               # VERIFY - quality checks
  evidence_required: true               # Must populate files_viewed
  audit_integration: true               # true | false | "self"
  governance_mode: strict               # strict | inherit | warn
  proposal_mandate: OPTIONAL            # REQUIRED | OPTIONAL | FORBIDDEN

# Execution Context (Rounds 10-12)
model: haiku                            # haiku | sonnet | opus | inherit
context: fork                           # fork (isolated) | standard (shared)
permissionMode: default                 # default | acceptEdits | dontAsk | bypassPermissions | plan

# Integration (Rounds 13-15)
integrates_with:
  agents: []                            # Chained agents
  hooks: []                             # Hook events to trigger
    # - event: PreToolUse
    #   matcher: "Edit|Write"

# V2.1.7+ Features (Optional)
# v21x_features:
#   task_decomposer: false
#   context_budget_manager: false
#   resume_support: false
#   ultrathink_mode: false
#   llm_native_routing: false
#   mcp_proposal_integration: false
---

# {AGENT_NAME} Agent

## Purpose

{AGENT_DESCRIPTION}

## Behavior

### ALWAYS
- Collect `files_viewed` evidence before any analysis
- Follow ODA governance rules
- Report findings in structured format

### NEVER
- Modify files (read-only agent)
- Skip evidence collection
- Hallucinate file contents

## Input/Output

### Expected Input
```yaml
scope: "{target_path}"
focus: "{analysis_focus}"
```

### Output Format
```yaml
files_viewed: ["{paths}"]
findings:
  - file: "{path}"
    line: {number}
    severity: "{CRITICAL|HIGH|MEDIUM|LOW}"
    message: "{description}"
summary: "{brief_summary}"
```

## Example Usage

```python
Task(
    subagent_type="{AGENT_NAME}",
    prompt="""
        ## Context
        ODA governance active.

        ## Task
        {task_description}

        ## Required Evidence
        files_viewed: [must populate]
    """,
    description="{brief_description}"
)
```
