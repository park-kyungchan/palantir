# =============================================================================
# Worker Task: Phase 1 (P0) Skill Upgrade
# =============================================================================
# Generated by: Orchestrator (Terminal-A)
# Created: 2026-01-24T17:30:00Z
# =============================================================================

taskId: "p0-skill-upgrade"
assignedTo: "Terminal-B"
orchestrator: "Terminal-A"
createdAt: "2026-01-24T17:30:00Z"
priority: "P0"
estimatedTime: "2 hours"

# =============================================================================
# TASK DESCRIPTION
# =============================================================================
scope:
  description: |
    Phase 1 (P0) 스킬 업그레이드 구현

    Claude Code v2.1.19 최신 기능 적용:
    - $0/$1 인덱스 인수 구문으로 마이그레이션
    - allowed-tools YAML 배열 형식으로 변환
    - argument-hint 개선

# =============================================================================
# CONTEXT
# =============================================================================
context:
  sourceDocument: ".agent/outputs/synthesis/implementation-plan-task3.md"
  section: "Phase 1: P0 Changes"

  keyChanges:
    - feature: "$0/$1 argument syntax"
      description: "args[0] → $0, args[1] → $1"
    - feature: "allowed-tools YAML array"
      description: "String → Array format"
    - feature: "argument-hint enhancement"
      description: "Better autocomplete support"

# =============================================================================
# TARGET FILES (수정 대상)
# =============================================================================
targetFiles:
  - path: ".claude/skills/orchestrate/SKILL.md"
    action: "MODIFY"
    changes:
      - "frontmatter: argument-hint 개선"
      - "frontmatter: allowed-tools 배열 형식"
      - "implementation: args[0] → $0"
    referenceSection: "implementation-plan-task3.md > Change 1.1"

  - path: ".claude/skills/assign/SKILL.md"
    action: "MODIFY"
    changes:
      - "frontmatter: argument-hint 개선"
      - "frontmatter: allowed-tools 배열 형식"
      - "implementation: args[0] → $0"
    referenceSection: "implementation-plan-task3.md > Change 1.2"

  - path: ".claude/skills/clarify/SKILL.md"
    action: "MODIFY"
    changes:
      - "frontmatter: disable-model-invocation: true 추가"
      - "implementation: args[0] → $0"
    referenceSection: "implementation-plan-task3.md > Change 1.3"

# =============================================================================
# DELIVERABLES
# =============================================================================
deliverables:
  - type: "modified-files"
    files:
      - ".claude/skills/orchestrate/SKILL.md"
      - ".claude/skills/assign/SKILL.md"
      - ".claude/skills/clarify/SKILL.md"

  - type: "report"
    path: ".agent/outputs/Worker/p0-skill-upgrade-report.md"
    format: |
      # P0 Skill Upgrade Report

      ## Modified Files
      - [ ] orchestrate/SKILL.md
      - [ ] assign/SKILL.md
      - [ ] clarify/SKILL.md

      ## Changes Summary
      [각 파일별 변경 내용]

      ## Verification
      [테스트 결과]

# =============================================================================
# COMPLETION CRITERIA
# =============================================================================
completionCriteria:
  - "모든 스킬 파일에서 args[0] → $0 마이그레이션 완료"
  - "allowed-tools가 YAML 배열 형식"
  - "/orchestrate, /assign, /clarify 실행 테스트 통과"

# =============================================================================
# ON COMPLETE
# =============================================================================
onComplete:
  - action: "Update _progress.yaml"
    field: "terminals.terminal-b.status"
    value: "completed"

  - action: "Move this file"
    from: ".agent/prompts/pending/worker-b-p0-skill-upgrade.yaml"
    to: ".agent/prompts/completed/worker-b-p0-skill-upgrade.yaml"

  - action: "Notify Orchestrator"
    format: "L1 summary in .agent/outputs/Worker/"

# =============================================================================
# REFERENCE
# =============================================================================
reference:
  readFirst:
    - ".agent/prompts/_context.yaml"
    - ".agent/outputs/synthesis/implementation-plan-task3.md"

  doNotModify:
    - ".agent/prompts/_progress.yaml"  # Orchestrator only
    - ".agent/prompts/_context.yaml"   # Orchestrator only
